<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <ion-list lines="full" class="ion-no-margin ion-padding">
      <ion-item>
        <ion-label position="stacked">Email <ion-text color="danger">*</ion-text></ion-label>
        <ion-input type="email"
        formControlName="email"></ion-input>
        <div class="error-messages" *ngIf="f.email.touched && f.email.errors">
          <ion-text color="danger">
            <small *ngIf="f.email.errors?.required" >email is required</small>
            <small *ngIf="f.email.errors?.email" >enter a valid email</small>
          </ion-text>
        </div>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Password <ion-text color="danger">*</ion-text></ion-label>
        <ion-input type="password"
        formControlName="password"></ion-input>
        <div class="error-messages" *ngIf="f.password.touched && f.password.errors">
          <ion-text color="danger">
            <small *ngIf="f.password.errors?.required">password is required</small>
            <small *ngIf="f.password.errors?.minlength">Minimum length of password is 6</small>
          </ion-text>
        </div>
      </ion-item>
    </ion-list>
    <div class="ion-padding">
      <ion-button expand="block" type="submit" class="ion-no-margin">Login</ion-button>
      <div class="error-messages ion-margin-top ion-text-center" 
      *ngIf="isSubmitted && loginForm.invalid">
        <ion-text color="danger">
          <small>Form is invalid!</small>
        </ion-text>
      </div>
    </div>
    <p class="ion-padding ion-text-center">Not Registered? <ion-text><a routerLink="/register">Signup Here</a></ion-text></p>
  </form>
</ion-content>
